{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { StatusBar } from 'expo-status-bar';\nimport React, { useState } from 'react';\nimport firestore, { QuerySnapshot, getFirestore, collection } from 'firebase/firestore';\nimport { doc, onSnapshot } from \"firebase/firestore\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { initializeApp } from 'firebase/app';\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { Appbar, TextInput, Button } from 'react-native-paper';\nimport database from 'firebase/firestore';\nimport Todo from \"./Todo\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar firebaseConfig = {\n  apiKey: \"AIzaSyCbfPuPqy7pa8nhhhhtLt7pCQx3VGOc5qg\",\n  authDomain: \"ktgk-dc13b.firebaseapp.com\",\n  projectId: \"ktgk-dc13b\",\n  storageBucket: \"ktgk-dc13b.appspot.com\",\n  messagingSenderId: \"782280285325\",\n  appId: \"1:782280285325:web:c108a2a8c2512ee63996c4\",\n  measurementId: \"G-2D7YJZWFBG\"\n};\ninitializeApp(firebaseConfig);\nfunction App() {\n  var db = getFirestore();\n  var ref = collection(db, 'todos');\n  var _React$useState = React.useState(''),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    todo = _React$useState2[0],\n    setTodo = _React$useState2[1];\n  var _React$useState3 = React.useState(true),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    loading = _React$useState4[0],\n    setLoading = _React$useState4[1];\n  var _React$useState5 = React.useState([]),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    todos = _React$useState6[0],\n    setTodos = _React$useState6[1];\n  function AddTodo() {\n    return _AddTodo.apply(this, arguments);\n  }\n  function _AddTodo() {\n    _AddTodo = _asyncToGenerator(function* () {\n      yield ref.add({\n        title: todo,\n        complete: false\n      });\n      setTodo('');\n    });\n    return _AddTodo.apply(this, arguments);\n  }\n  React.useEffect(function () {\n    var unscribe = onSnapshot(ref, function (querySnapshot) {\n      var list = [];\n      querySnapshot.forEach(function (doc) {\n        var _doc$data = doc.data(),\n          title = _doc$data.title,\n          complete = _doc$data.complete;\n        list.push({\n          id: doc.id,\n          title: title,\n          complete: complete\n        });\n      });\n      setTodos(list);\n      if (loading) {\n        setLoading(false);\n      }\n    });\n    return function () {\n      return unscribe();\n    };\n  });\n  if (loading) {\n    return null;\n  }\n  return _jsxs(View, {\n    style: {\n      flex: 1\n    },\n    children: [_jsx(Appbar, {\n      children: _jsx(Appbar.Content, {\n        title: 'TODO LIST'\n      })\n    }), _jsx(FlatList, {\n      style: {\n        flex: 1\n      },\n      data: todos,\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      },\n      renderItem: function renderItem(_ref) {\n        var item = _ref.item;\n        return _jsx(Todo, _objectSpread({}, item));\n      }\n    }), _jsx(TextInput, {\n      label: 'New todo',\n      value: todo,\n      onChangeText: function onChangeText(text) {\n        setTodo(text);\n      }\n    }), _jsx(Button, {\n      onPress: AddTodo,\n      children: \"Add TODO\"\n    })]\n  });\n}\nexport default App;","map":{"version":3,"names":["StatusBar","React","useState","firestore","QuerySnapshot","getFirestore","collection","doc","onSnapshot","FlatList","StyleSheet","View","initializeApp","ScrollView","Text","Appbar","TextInput","Button","database","Todo","jsx","_jsx","jsxs","_jsxs","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","App","db","ref","_React$useState","_React$useState2","_slicedToArray","todo","setTodo","_React$useState3","_React$useState4","loading","setLoading","_React$useState5","_React$useState6","todos","setTodos","AddTodo","_AddTodo","apply","arguments","_asyncToGenerator","add","title","complete","useEffect","unscribe","querySnapshot","list","forEach","_doc$data","data","push","id","style","flex","children","Content","keyExtractor","item","renderItem","_ref","_objectSpread","label","value","onChangeText","text","onPress"],"sources":["D:/TanHung/Lab4/App.js"],"sourcesContent":["import { StatusBar } from 'expo-status-bar';\nimport React, {useState} from 'react';\nimport firestore, { QuerySnapshot, getFirestore, collection } from 'firebase/firestore';\nimport { doc, onSnapshot } from \"firebase/firestore\";\nimport { FlatList, StyleSheet, View } from 'react-native';\nimport { initializeApp } from 'firebase/app';\nimport { ScrollView, Text } from 'react-native';\nimport { Appbar, TextInput, Button } from 'react-native-paper';\nimport database from 'firebase/firestore'\nimport Todo from './Todo';\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCbfPuPqy7pa8nhhhhtLt7pCQx3VGOc5qg\",\n  authDomain: \"ktgk-dc13b.firebaseapp.com\",\n  projectId: \"ktgk-dc13b\",\n  storageBucket: \"ktgk-dc13b.appspot.com\",\n  messagingSenderId: \"782280285325\",\n  appId: \"1:782280285325:web:c108a2a8c2512ee63996c4\",\n  measurementId: \"G-2D7YJZWFBG\"\n};\n\ninitializeApp(firebaseConfig);\n\nfunction App(){\n  const db = getFirestore()\n  const ref = collection(db,'todos')\n  const [todo,setTodo] = React.useState('')\n  const [loading, setLoading] = React.useState(true)\n  const [todos, setTodos] = React.useState([])\n  async function AddTodo (){\n    await ref.add({\n      title:todo,\n      complete:false\n    })\n    setTodo('');\n  }\n\n  React.useEffect(() => {\n    const unscribe = onSnapshot(ref, (querySnapshot) => {\n      const list = [];\n      querySnapshot.forEach(doc => {\n        const { title, complete } = doc.data();\n        list.push({\n          id: doc.id,\n          title,\n          complete,\n        });\n      });\n\n      setTodos(list);\n\n      if (loading) {\n        setLoading(false);\n      }\n    });\n\n    return () => unscribe()\n  });\n\n  if (loading) {\n    return null; \n  }\n  return (\n    <View style={{flex:1}}>\n        <Appbar>\n          <Appbar.Content title ={'TODO LIST'}></Appbar.Content>\n        </Appbar>\n        <FlatList style={{flex:1}} data={todos} keyExtractor={(item)=> item.id} renderItem={({item}) => <Todo{...item}></Todo>}></FlatList>\n        <TextInput label={'New todo'} value={todo} onChangeText={(text)=>{setTodo(text)}}></TextInput>\n        <Button onPress={AddTodo}>Add TODO</Button>\n    </View>\n  )\n}\n\nexport default App\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
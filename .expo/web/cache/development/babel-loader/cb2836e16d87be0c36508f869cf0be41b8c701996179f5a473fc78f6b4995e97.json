{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { StatusBar } from 'expo-status-bar';\nimport React, { useState } from 'react';\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { initializeApp } from 'firebase/app';\nimport 'firebase/compat/auth';\nimport 'firebase/compat/firestore';\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { getFirestore, setDoc, doc, collection, addDoc, firestore, query, onSnapshot } from 'firebase/firestore';\nimport database from 'firebase/firestore';\nimport { List, Appbar, TextInput, Button as PaperButton } from 'react-native-paper';\nimport Todo from \"./Todo\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar firebaseConfig = {\n  apiKey: \"AIzaSyCbfPuPqy7pa8nhhhhtLt7pCQx3VGOc5qg\",\n  authDomain: \"ktgk-dc13b.firebaseapp.com\",\n  projectId: \"ktgk-dc13b\",\n  storageBucket: \"ktgk-dc13b.appspot.com\",\n  messagingSenderId: \"782280285325\",\n  appId: \"1:782280285325:web:c108a2a8c2512ee63996c4\",\n  measurementId: \"G-2D7YJZWFBG\"\n};\ninitializeApp(firebaseConfig);\nfunction App() {\n  var _React$useState = React.useState(''),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    todo = _React$useState2[0],\n    setTodo = _React$useState2[1];\n  var _React$useState3 = React.useState(true),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    loading = _React$useState4[0],\n    setLoading = _React$useState4[1];\n  var _React$useState5 = React.useState([]),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    todos = _React$useState6[0],\n    setTodos = _React$useState6[1];\n  var db = getFirestore();\n  var ref = collection(db, 'todos');\n  function addTodo() {\n    return _addTodo.apply(this, arguments);\n  }\n  function _addTodo() {\n    _addTodo = _asyncToGenerator(function* () {\n      yield ref.addDoc({\n        title: todo,\n        complete: false\n      });\n      setTodo('');\n    });\n    return _addTodo.apply(this, arguments);\n  }\n  React.useEffect(function () {\n    var unscribe = onSnapshot(ref, function (querySnapshot) {\n      var list = [];\n      querySnapshot.forEach(function (doc) {\n        var _doc$data = doc.data(),\n          title = _doc$data.title,\n          complete = _doc$data.complete;\n        list.push({\n          id: doc.id,\n          title: title,\n          complete: complete\n        });\n      });\n      setTodos(list);\n      if (loading) {\n        setLoading(false);\n      }\n    });\n    return function () {\n      return unscribe();\n    };\n  });\n  if (loading) {\n    return null;\n  }\n  return _jsxs(View, {\n    style: {\n      flex: 1\n    },\n    children: [_jsx(Appbar, {\n      children: _jsx(Appbar.Content, {\n        title: 'TODOs List'\n      })\n    }), _jsx(FlatList, {\n      style: {\n        flex: 1\n      },\n      data: todos,\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      },\n      renderItem: function renderItem(_ref) {\n        var item = _ref.item;\n        return _jsx(Todo, _objectSpread({}, item));\n      }\n    }), _jsx(TextInput, {\n      label: 'New Todo',\n      value: todo,\n      onChangeText: function onChangeText(text) {\n        return setTodo(text);\n      }\n    }), _jsx(Button, {\n      onPress: addTodo,\n      children: \"Add TODO\"\n    })]\n  });\n}\nexport default App;","map":{"version":3,"names":["StatusBar","React","useState","Button","StyleSheet","Text","View","ScrollView","initializeApp","FlatList","getFirestore","setDoc","doc","collection","addDoc","firestore","query","onSnapshot","database","List","Appbar","TextInput","PaperButton","Todo","jsx","_jsx","jsxs","_jsxs","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","App","_React$useState","_React$useState2","_slicedToArray","todo","setTodo","_React$useState3","_React$useState4","loading","setLoading","_React$useState5","_React$useState6","todos","setTodos","db","ref","addTodo","_addTodo","apply","arguments","_asyncToGenerator","title","complete","useEffect","unscribe","querySnapshot","list","forEach","_doc$data","data","push","id","style","flex","children","Content","keyExtractor","item","renderItem","_ref","_objectSpread","label","value","onChangeText","text","onPress"],"sources":["D:/TanHung/Lab4/App.js"],"sourcesContent":["\n\nimport { StatusBar } from 'expo-status-bar';\nimport React, {useState} from 'react';\nimport { Button, StyleSheet, Text, View, ScrollView } from 'react-native';\nimport { initializeApp } from 'firebase/app';\nimport 'firebase/compat/auth';\nimport 'firebase/compat/firestore'\nimport { FlatList } from 'react-native';\nimport { getFirestore, setDoc, doc, collection, addDoc, firestore, query,onSnapshot} from 'firebase/firestore'\nimport database from 'firebase/firestore';\nimport { List, Appbar, TextInput, Button as PaperButton } from 'react-native-paper';\nimport Todo from './Todo';\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCbfPuPqy7pa8nhhhhtLt7pCQx3VGOc5qg\",\n  authDomain: \"ktgk-dc13b.firebaseapp.com\",\n  projectId: \"ktgk-dc13b\",\n  storageBucket: \"ktgk-dc13b.appspot.com\",\n  messagingSenderId: \"782280285325\",\n  appId: \"1:782280285325:web:c108a2a8c2512ee63996c4\",\n  measurementId: \"G-2D7YJZWFBG\"\n};\n\ninitializeApp(firebaseConfig);\n\nfunction App() {\n\n  const [todo, setTodo] = React.useState('');\n  const [ loading, setLoading ] = React.useState(true);\n  const [ todos, setTodos ] = React.useState([]);\n  const db = getFirestore();\n  const ref = collection(db,'todos')\n  async function addTodo() {\n    await ref.addDoc({\n      title: todo,\n      complete: false,\n    });\n    setTodo(''); \n  }\n  React.useEffect(() => {\n    const unscribe = onSnapshot(ref, (querySnapshot) => {\n      const list = [];\n      querySnapshot.forEach(doc => {\n        const { title, complete } = doc.data();\n        list.push({\n          id: doc.id,\n          title,\n          complete,\n        });\n      });\n\n      setTodos(list);\n\n      if (loading) {\n        setLoading(false);\n      }\n    });\n\n    return () => unscribe()\n  });\n\n  if (loading) {\n    return null; \n  }\n\n  return (\n    <View style={{flex:1}}>\n      <Appbar>\n        <Appbar.Content title={'TODOs List'} />\n      </Appbar>\n      <FlatList \n        style={{flex: 1}}\n        data={todos}\n        keyExtractor={(item) => item.id}\n        renderItem={({ item }) => <Todo {...item} />}\n      />\n      <TextInput label={'New Todo'} value={todo} onChangeText={(text) => setTodo(text)} />\n      <Button onPress={addTodo}>Add TODO</Button>\n    </View>\n  );\n}\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { StatusBar } from 'expo-status-bar';\nimport React, { useState } from 'react';\nimport firestore, { QuerySnapshot, getFirestore, collection } from 'firebase/firestore';\nimport { doc, onSnapshot } from \"firebase/firestore\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { initializeApp } from 'firebase/app';\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { Appbar, TextInput, Button } from 'react-native-paper';\nimport database from 'firebase/firestore';\nimport Todo from \"./Todo\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar firebaseConfig = {\n  apiKey: \"AIzaSyCbfPuPqy7pa8nhhhhtLt7pCQx3VGOc5qg\",\n  authDomain: \"ktgk-dc13b.firebaseapp.com\",\n  projectId: \"ktgk-dc13b\",\n  storageBucket: \"ktgk-dc13b.appspot.com\",\n  messagingSenderId: \"782280285325\",\n  appId: \"1:782280285325:web:c108a2a8c2512ee63996c4\",\n  measurementId: \"G-2D7YJZWFBG\"\n};\ninitializeApp(firebaseConfig);\nfunction App() {\n  var db = getFirestore();\n  var ref = collection(db, 'todos');\n  var _React$useState = React.useState(''),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    todo = _React$useState2[0],\n    setTodo = _React$useState2[1];\n  var _React$useState3 = React.useState(true),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    loading = _React$useState4[0],\n    setLoading = _React$useState4[1];\n  var _React$useState5 = React.useState([]),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    todos = _React$useState6[0],\n    setTodos = _React$useState6[1];\n  function AddToDO() {\n    return _AddToDO.apply(this, arguments);\n  }\n  function _AddToDO() {\n    _AddToDO = _asyncToGenerator(function* () {\n      yield ref.add({\n        title: todo,\n        complete: false\n      });\n      setTodo('');\n    });\n    return _AddToDO.apply(this, arguments);\n  }\n  React.useEffect(function () {\n    return onSnapshot(ref, function (QuerySnapshot) {\n      var list = [];\n      QuerySnapshot.forEach(function (doc) {\n        var _doc$data = doc.data(),\n          title = _doc$data.title,\n          complete = _doc$data.complete;\n        list.push({\n          id: doc.id,\n          title: title,\n          complete: complete\n        });\n      });\n    });\n    setTodos[List];\n    if (loading) {\n      setLoading(false);\n    }\n  });\n  if (loading) {\n    return null;\n  }\n  return _jsx(View, {\n    style: {\n      flex: 1\n    },\n    children: _jsx(Text, {\n      children: \"hii\"\n    })\n  });\n}\nexport default App;","map":{"version":3,"names":["StatusBar","React","useState","firestore","QuerySnapshot","getFirestore","collection","doc","onSnapshot","FlatList","StyleSheet","View","initializeApp","ScrollView","Text","Appbar","TextInput","Button","database","Todo","jsx","_jsx","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","App","db","ref","_React$useState","_React$useState2","_slicedToArray","todo","setTodo","_React$useState3","_React$useState4","loading","setLoading","_React$useState5","_React$useState6","todos","setTodos","AddToDO","_AddToDO","apply","arguments","_asyncToGenerator","add","title","complete","useEffect","list","forEach","_doc$data","data","push","id","List","style","flex","children"],"sources":["D:/TanHung/Lab4/App.js"],"sourcesContent":["import { StatusBar } from 'expo-status-bar';\nimport React, {useState} from 'react';\nimport firestore, { QuerySnapshot, getFirestore, collection } from 'firebase/firestore';\nimport { doc, onSnapshot } from \"firebase/firestore\";\nimport { FlatList, StyleSheet, View } from 'react-native';\nimport { initializeApp } from 'firebase/app';\nimport { ScrollView, Text } from 'react-native';\nimport { Appbar, TextInput, Button } from 'react-native-paper';\nimport database from 'firebase/firestore'\nimport Todo from './Todo';\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCbfPuPqy7pa8nhhhhtLt7pCQx3VGOc5qg\",\n  authDomain: \"ktgk-dc13b.firebaseapp.com\",\n  projectId: \"ktgk-dc13b\",\n  storageBucket: \"ktgk-dc13b.appspot.com\",\n  messagingSenderId: \"782280285325\",\n  appId: \"1:782280285325:web:c108a2a8c2512ee63996c4\",\n  measurementId: \"G-2D7YJZWFBG\"\n};\n\ninitializeApp(firebaseConfig);\n\nfunction App(){\n  const db = getFirestore()\n  const ref = collection(db,'todos')\n  const [todo,setTodo] = React.useState('')\n  const [loading, setLoading] = React.useState(true)\n  const [todos, setTodos] = React.useState([])\n  async function AddToDO (){\n    await ref.add({\n      title:todo,\n      complete:false\n    })\n    setTodo('')\n  }\n\n  React.useEffect(() =>{\n    return onSnapshot(ref,QuerySnapshot => {\n      const list = []\n      QuerySnapshot.forEach(doc =>{\n        const {title, complete} = doc.data()\n        list.push({\n          id: doc.id,\n          title,\n          complete\n        })\n      })\n    })\n    setTodos[List]\n    if (loading){\n      setLoading(false)\n    }\n  })\n  if (loading){\n    return null\n  }\n  return (\n    <View style={{flex:1}}>\n        <Text>hii</Text>\n    </View>\n  )\n}\n\nexport default App\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}